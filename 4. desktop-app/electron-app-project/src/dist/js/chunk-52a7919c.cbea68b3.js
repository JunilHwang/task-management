(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52a7919c"],{"0a69":function(t,e,a){"use strict";a("96cf");var n=a("3040"),r=a("c665"),c=a("aa9a"),s=a("5a8b"),o=function(){function t(){Object(r["a"])(this,t)}return Object(c["a"])(t,null,[{key:"init",value:function(e){t.instance=e}},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,e.next=3,n.getApiData(s["a"].getTaskList(a||n.$route.params.pidx));case 3:r=e.sent,n.$store.commit("setState",["taskList",r.list]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r,c,o,i,u,l,p,m,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,r=a.target,c=r.title.value,o=r.parent.value,i="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),u="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),l=r.description.value,p=n.$route.params.pidx,m={pidx:p,parent:o,title:c,start_date:i,limit_date:u,description:l},e.next=6,n.getApiData(s["a"].postTask(m));case 6:return e.next=8,n.getApiData(s["a"].getTaskList(n.$route.params.pidx));case 8:f=e.sent,n.$store.commit("setState",["taskList",f.list]),n.$store.commit("closeLayer"),alert("완료되었습니다.");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setState",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,r=n.$route.params.tidx,e.next=4,n.getApiData(s["a"].putTaskState({state:a,tidx:r}));case 4:t.getOne();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var a,n,r,c,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:null,n=t.instance,r=a||n.$route.params.tidx,e.next=5,n.getApiData(s["a"].getTask(r));case 5:return c=e.sent,null==a&&n.$store.commit("setState",["nowTask",c.task]),e.abrupt("return",c.task);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("정말로 삭제하시겠습니까?")){e.next=2;break}return e.abrupt("return");case 2:return a=t.instance,e.next=5,a.getApiData(s["a"].deleteTask(a.task.tidx));case 5:a.$router.push("/project/view/"+a.task.pidx);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r,c,o,i,u,l,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,r=a.target,c=r.title.value,o="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),i="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),u=r.description.value,l=n.tidx,p={tidx:l,title:c,start_date:o,limit_date:i,description:u},e.next=6,n.getApiData(s["a"].putTask(p));case 6:alert("완료되었습니다."),n.$store.commit("closeLayer"),t.getOne();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}();e["a"]=o},"21d9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"task-view"},[null!==t.task?[a("div",{staticClass:"task-wrap"},[a("header",{staticClass:"task-title"},[a("span",{class:"color-label color"+(t.task.state+1)}),a("span",{staticClass:"task-name",domProps:{innerHTML:t._s(t.task.title)}}),a("span",{staticClass:"reg-date"},[a("i",{staticClass:"far fa-calendar-alt"}),t._v("\n          "+t._s(t.getDateFormat(t.task.register_date))+"\n        ")])]),a("div",{staticClass:"task-info"},[a("p",[a("strong",{staticClass:"lbl"},[t._v("기간")]),a("span",{domProps:{innerHTML:t._s(t.getRange(t.task.start_date,t.task.limit_date))}})]),a("p",[a("strong",{staticClass:"lbl"},[t._v("종료")]),a("span",{domProps:{innerHTML:t._s(t.getRemaining(t.task.limit_date))}})]),a("p",[a("strong",{staticClass:"lbl"},[t._v("선행")]),null===t.parent?a("span",[t._v("없습니다.")]):a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.change("/task/view/"+t.parent.tidx)}}},[a("span",{class:"color-label color"+(t.parent.state+1)}),t._v("\n            "+t._s(t.parent.title)+" / \n            "+t._s(t.contentPreview(t.parent.description,40))+"\n          ")])])]),a("div",{staticClass:"task-content",domProps:{innerHTML:t._s((t.task.description+"").replace(/\n/gi,"<br />"))}}),a("commitList",{attrs:{commits:t.commits}}),a("commentList")],1),a("div",{staticClass:"btn-group"},[a("router-link",{staticClass:"btn default",attrs:{to:"/project/view/"+t.task.pidx}},[t._v("목록으로")]),a("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$store.commit("openLayer","taskUpdate")}}},[t._v("수정하기")]),a("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.TaskCore.delete(e)}}},[t._v("삭제하기")]),1!=t.task.state?a("a",{staticClass:"btn complete",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.TaskCore.setState(1)}}},[t._v("완료")]):t._e(),2!=t.task.state?a("a",{staticClass:"btn error",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.TaskCore.setState(2)}}},[t._v("에러")]):t._e(),0!=t.task.state?a("a",{staticClass:"btn process",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.TaskCore.setState(0)}}},[t._v("진행")]):t._e()],1)]:t._e()],2)},r=[],c=(a("96cf"),a("3040")),s=a("0a69"),o=a("5a8b"),i={components:{commitList:function(){return a.e("chunk-2dcd8e05").then(a.bind(null,"2f79"))},commentList:function(){return a.e("chunk-2d0e64c6").then(a.bind(null,"97c5"))}},created:function(){s["a"].init(this),this.load()},computed:{task:function(){return this.$store.state.nowTask}},data:function(){return{TaskCore:s["a"],parent:null,commits:[]}},methods:{load:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].getOne();case 2:if(e=t.sent,!e.parent){t.next=9;break}return t.next=6,s["a"].getOne(e.parent);case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=null;case 10:return this.parent=t.t0,t.next=13,this.getApiData(o["a"].getCommits(e.tidx));case 13:a=t.sent,this.commits=a.commits;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),change:function(t){this.$router.push(t),this.load()}}},u=i,l=(a("edd7"),a("2877")),p=Object(l["a"])(u,n,r,!1,null,"08cd0b1c",null);p.options.__file="view.vue";e["default"]=p.exports},"53bd":function(t,e,a){},"5a8b":function(t,e,a){"use strict";var n=a("c665"),r=a("aa9a"),c=a("bc3a"),s=a.n(c),o="http://localhost:8090/api",i=function(){function t(){Object(n["a"])(this,t)}return Object(r["a"])(t,[{key:"postMember",value:function(t){return s.a.post("".concat(o,"/member"),t)}},{key:"getMemberOnProject",value:function(t){return s.a.get("".concat(o,"/memberOnProject/").concat(t))}},{key:"postProject",value:function(t){return s.a.post("".concat(o,"/project"),t)}},{key:"postProjectAccess",value:function(t){return s.a.post("".concat(o,"/project/access"),t)}},{key:"getProjectListOfMain",value:function(t){return s.a.get("".concat(o,"/projects/").concat(t))}},{key:"getProject",value:function(t){return s.a.get("".concat(o,"/project/").concat(t))}},{key:"putProject",value:function(t){return s.a.put("".concat(o,"/project"),t)}},{key:"putProjectStar",value:function(t){return s.a.put("".concat(o,"/project/star"),t)}},{key:"postTask",value:function(t){return s.a.post("".concat(o,"/task"),t)}},{key:"getTaskList",value:function(t){return s.a.get("".concat(o,"/tasks/").concat(t))}},{key:"getTaskListRecently",value:function(t){return s.a.get("".concat(o,"/task/recently/").concat(t))}},{key:"getTask",value:function(t){return s.a.get("".concat(o,"/task/").concat(t))}},{key:"putTask",value:function(t){return s.a.put("".concat(o,"/task"),t)}},{key:"putTaskState",value:function(t){var e=["process","complete","error"],a="".concat(o,"/task/").concat(e[t.state]);return s.a.put("".concat(a,"/").concat(t.tidx))}},{key:"deleteTask",value:function(t){return s.a.delete("".concat(o,"/task/").concat(t))}},{key:"putViewDate",value:function(){throw"don't putViewDate impolemented"}},{key:"getCommentList",value:function(t){return s.a.get("".concat(o,"/comments/").concat(t))}},{key:"getComment",value:function(t){return s.a.get("".concat(o,"/comment/").concat(t))}},{key:"postComment",value:function(t){return s.a.post("".concat(o,"/comment/").concat(t.tidx),t)}},{key:"postCommentReply",value:function(t){return s.a.post("".concat(o,"/comment/reply"),t)}},{key:"putComment",value:function(t){return s.a.put("".concat(o,"/comment"),t)}},{key:"deleteComment",value:function(t){return s.a.delete("".concat(o,"/comment/").concat(t))}},{key:"getRepos",value:function(t){return s.a.get("".concat(o,"/github/repos/").concat(t))}},{key:"getCommits",value:function(t){return s.a.get("".concat(o,"/github/commit/").concat(t))}},{key:"postRepo",value:function(t){return s.a.post("".concat(o,"/github/repo"),t)}},{key:"postTaskCommit",value:function(t){return s.a.post("".concat(o,"/github/match"),t)}},{key:"deleteRepo",value:function(t){return s.a.delete("".concat(o,"/github/repo/").concat(t))}},{key:"deleteCommitOnTask",value:function(t,e){return s.a.delete("".concat(o,"/github/match/").concat(t,"/").concat(e))}}]),t}();e["a"]=new i},aa9a:function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}a.d(e,"a",function(){return r})},c665:function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",function(){return n})},edd7:function(t,e,a){"use strict";var n=a("53bd"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-52a7919c.cbea68b3.js.map