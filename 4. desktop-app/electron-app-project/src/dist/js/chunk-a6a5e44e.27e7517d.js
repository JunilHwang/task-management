(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6a5e44e"],{"06ac":function(t,e,a){"use strict";var n=a("86f9"),r=a.n(n);r.a},"0a69":function(t,e,a){"use strict";a("96cf");var n=a("3040"),r=a("c665"),s=a("aa9a"),i=a("5a8b"),c=function(){function t(){Object(r["a"])(this,t)}return Object(s["a"])(t,null,[{key:"init",value:function(e){t.instance=e}},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,e.next=3,n.getApiData(i["a"].getTaskList(a||n.$route.params.pidx));case 3:r=e.sent,n.$store.commit("setState",["taskList",r.list]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r,s,c,o,u,l,p,m,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,r=a.target,s=r.title.value,c=r.parent.value,o="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),u="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),l=r.description.value,p=n.$route.params.pidx,m={pidx:p,parent:c,title:s,start_date:o,limit_date:u,description:l},e.next=6,n.getApiData(i["a"].postTask(m));case 6:return e.next=8,n.getApiData(i["a"].getTaskList(n.$route.params.pidx));case 8:f=e.sent,n.$store.commit("setState",["taskList",f.list]),n.$store.commit("closeLayer"),alert("완료되었습니다.");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setState",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,r=n.$route.params.tidx,e.next=4,n.getApiData(i["a"].putTaskState({state:a,tidx:r}));case 4:t.getOne();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var a,n,r,s,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:null,n=t.instance,r=a||n.$route.params.tidx,e.next=5,n.getApiData(i["a"].getTask(r));case 5:return s=e.sent,null==a&&n.$store.commit("setState",["nowTask",s.task]),e.abrupt("return",s.task);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("정말로 삭제하시겠습니까?")){e.next=2;break}return e.abrupt("return");case 2:return a=t.instance,e.next=5,a.getApiData(i["a"].deleteTask(a.task.tidx));case 5:a.$router.push("/project/view/"+a.task.pidx);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var n,r,s,c,o,u,l,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.instance,r=a.target,s=r.title.value,c="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),o="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),u=r.description.value,l=n.tidx,p={tidx:l,title:s,start_date:c,limit_date:o,description:u},e.next=6,n.getApiData(i["a"].putTask(p));case 6:alert("완료되었습니다."),n.$store.commit("closeLayer"),t.getOne();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}();e["a"]=c},"0bfb":function(t,e,a){"use strict";var n=a("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"25fa":function(t,e,a){},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"392c":function(t,e,a){"use strict";var n=a("25fa"),r=a.n(n);r.a},"3deb":function(t,e,a){},"5a8b":function(t,e,a){"use strict";var n=a("c665"),r=a("aa9a"),s=a("bc3a"),i=a.n(s),c="http://localhost:8090/api",o=function(){function t(){Object(n["a"])(this,t)}return Object(r["a"])(t,[{key:"postMember",value:function(t){return i.a.post("".concat(c,"/member"),t)}},{key:"getMemberOnProject",value:function(t){return i.a.get("".concat(c,"/memberOnProject/").concat(t))}},{key:"postProject",value:function(t){return i.a.post("".concat(c,"/project"),t)}},{key:"postProjectAccess",value:function(t){return i.a.post("".concat(c,"/project/access"),t)}},{key:"getProjectListOfMain",value:function(t){return i.a.get("".concat(c,"/projects/").concat(t))}},{key:"getProject",value:function(t){return i.a.get("".concat(c,"/project/").concat(t))}},{key:"putProject",value:function(t){return i.a.put("".concat(c,"/project"),t)}},{key:"putProjectStar",value:function(t){return i.a.put("".concat(c,"/project/star"),t)}},{key:"postTask",value:function(t){return i.a.post("".concat(c,"/task"),t)}},{key:"getTaskList",value:function(t){return i.a.get("".concat(c,"/tasks/").concat(t))}},{key:"getTaskListRecently",value:function(t){return i.a.get("".concat(c,"/task/recently/").concat(t))}},{key:"getTask",value:function(t){return i.a.get("".concat(c,"/task/").concat(t))}},{key:"putTask",value:function(t){return i.a.put("".concat(c,"/task"),t)}},{key:"putTaskState",value:function(t){var e=["process","complete","error"],a="".concat(c,"/task/").concat(e[t.state]);return i.a.put("".concat(a,"/").concat(t.tidx))}},{key:"deleteTask",value:function(t){return i.a.delete("".concat(c,"/task/").concat(t))}},{key:"putViewDate",value:function(){throw"don't putViewDate impolemented"}},{key:"getCommentList",value:function(t){return i.a.get("".concat(c,"/comments/").concat(t))}},{key:"getComment",value:function(t){return i.a.get("".concat(c,"/comment/").concat(t))}},{key:"postComment",value:function(t){return i.a.post("".concat(c,"/comment/").concat(t.tidx),t)}},{key:"postCommentReply",value:function(t){return i.a.post("".concat(c,"/comment/reply"),t)}},{key:"putComment",value:function(t){return i.a.put("".concat(c,"/comment"),t)}},{key:"deleteComment",value:function(t){return i.a.delete("".concat(c,"/comment/").concat(t))}},{key:"getRepos",value:function(t){return i.a.get("".concat(c,"/github/repos/").concat(t))}},{key:"getCommits",value:function(t){return i.a.get("".concat(c,"/github/commit/").concat(t))}},{key:"postRepo",value:function(t){return i.a.post("".concat(c,"/github/repo"),t)}},{key:"postTaskCommit",value:function(t){return i.a.post("".concat(c,"/github/match"),t)}},{key:"deleteRepo",value:function(t){return i.a.delete("".concat(c,"/github/repo/").concat(t))}},{key:"deleteCommitOnTask",value:function(t,e){return i.a.delete("".concat(c,"/github/match/").concat(t,"/").concat(e))}}]),t}();e["a"]=new o},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),r=a("0bfb"),s=a("9e1e"),i="toString",c=/./[i],o=function(t){a("2aba")(RegExp.prototype,i,t,!0)};a("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?o(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?r.call(t):void 0)}):c.name!=i&&o(function(){return c.call(this)})},7199:function(t,e,a){"use strict";var n=a("3deb"),r=a.n(n);r.a},"7f7f":function(t,e,a){var n=a("86cc").f,r=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in r||a("9e1e")&&n(r,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},8388:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("header",{staticClass:"project-header"},[a("h4",{staticClass:"content-title",domProps:{innerHTML:t._s(t.projectData.title)}}),a("p",{domProps:{innerHTML:t._s(t.projectData.description)}})]),"undefined"!==typeof t.projectData.pidx?a("section",{staticClass:"project-view"},[a("section",{staticClass:"tasks"},[a("taskList",{attrs:{matching:t.matching}})],1),a("projectGithubRepos"),a("div",{staticClass:"btn-group"},[a("router-link",{staticClass:"btn point",attrs:{to:"/project"}},[t._v("프로젝트 목록")]),a("router-link",{staticClass:"btn point",attrs:{to:"/project/setting/"+t.projectData.pidx}},[t._v("프로젝트 설정")]),a("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$store.commit("openLayer","taskCreate")}}},[t._v("테스크 추가")]),a("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.copyToken(e)}}},[t._v("토큰 복사")])],1)],1):t._e()])},r=[],s=(a("96cf"),a("3040")),i=a("5a8b"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.repos.length?a("section",{staticClass:"project-github-repos"},t._l(t.repos,function(e,n){return a("article",{key:n},[a("header",[a("div",{staticClass:"title"},[t._m(0,!0),a("strong",{staticClass:"repo-name",domProps:{innerHTML:t._s(e.full_name)}}),a("span",{staticClass:"repo-desc",domProps:{innerHTML:t._s(e.description)}})]),a("div",{staticClass:"sel"},[a("a",{class:{active:t.shows[n]},attrs:{href:"#"},domProps:{innerHTML:t._s(t.shows[n]?"접기":"열기")},on:{click:function(e){e.preventDefault(),t.showSet(n)}}}),t._l(t.limits,function(e,r){return a("a",{key:r,class:{active:t.nowLimit[n]===e},attrs:{href:"#"},domProps:{innerHTML:t._s(e+"개")},on:{click:function(a){a.preventDefault(),t.limitSet(n,e)}}})})],2)]),t.shows[n]?a("ul",[t._l(e.commits,function(e,r){return r<t.nowLimit[n]?a("li",{key:r,class:{active:t.$parent.matching.state&&t.$parent.matching.commit==e}},[a("span",{staticClass:"image",style:{backgroundImage:"url("+e.image+")"}}),a("span",{staticClass:"author",domProps:{innerHTML:t._s(e.name)}}),a("span",{staticClass:"message"},[a("a",{attrs:{href:e.html_url,target:"_blank"},domProps:{innerHTML:t._s(e.message)}})]),a("span",{staticClass:"register_date",domProps:{innerHTML:t._s(t.getFlowDate(e.register_date))}}),a("a",{staticClass:"plug",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.matchCommit(e)}}},[a("i",{staticClass:"fas fa-plug"})])]):t._e()}),e.commits?t._e():a("li",[t._v("\n        등록된 commit이 없습니다.\n      ")])],2):t._e()])})):t._e()},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"git-icon"},[a("i",{staticClass:"fab fa-github"})])}],u=(a("7f7f"),a("ac6a"),{created:function(){this.getRepos()},data:function(){return{repos:[],nowLimit:[],shows:[],limits:[10,30,50,100]}},methods:{getRepos:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getApiData(i["a"].getRepos(this.$route.params.pidx));case 2:e=t.sent,a=e.repos,this.repos=a,a.forEach(function(t){n.nowLimit.push(10),n.shows.push(!1);var e="".concat(t.access_url,"?per_page=100&access_token=").concat(t.access_token);n.$http.get(e).then(function(e){t.commits=e.data,t.commits.forEach(function(e,a){return n.getFilter(e,a,t)}),n.$forceUpdate()})});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getFilter:function(t,e,a){var n=t.sha,r=t.commit.author.name,s=t.commit.author.date,i=t.author?t.author.avatar_url:"",c=t.commit.message,o=t.html_url;a.commits[e]={sha:n,name:r,image:i,message:c,register_date:s,html_url:o}},matchCommit:function(t){this.$parent.matchingOn(!0,t)},limitSet:function(t,e){this.$set(this.nowLimit,t,e)},showSet:function(t){this.$set(this.shows,t,!this.shows[t])}}}),l=u,p=(a("7199"),a("2877")),m=Object(p["a"])(l,c,o,!1,null,"2fad4734",null);m.options.__file="github-repos.vue";var f=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"task-list"},[a("div",{staticClass:"list-header float-wrap"},[a("p",{staticClass:"cnt"},[t._v(t._s(t.tasks.length)+"개의 task가 존재합니다.")]),a("div",{staticClass:"color-description"},t._l(["진행","완료","에러"],function(e,n){return a("span",{key:n,staticClass:"color-label workflow",class:"color"+(n+1)+" "+(t.colorState===n?"active":"")},[a("span",{domProps:{innerHTML:t._s(e)},on:{click:function(e){t.workflowSelect(n)}}})])}))]),t.tasks.length?a("div",[t.$parent.matching.state?a("div",{staticClass:"matching"},[a("div",[t._v("["+t._s(t.$parent.matching.commit.message)+"] 과 매칭할 Task를 선택해주세요")]),a("div",{staticClass:"btns"},[t.matchList.length?a("a",{staticClass:"btn white mini",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.matchingComplete(e)}}},[t._v("완료")]):t._e(),a("a",{staticClass:"btn white mini",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.matchingOff(e)}}},[t._v("취소")])])]):t._e(),a("ul",{staticClass:"float-wrap"},t._l(t.tasks,function(e,n){return null===t.colorState||null!==t.colorState&&e.state===t.colorState?a("li",{key:n},[a("dl",{class:{active:-1!==t.matchList.indexOf(e.tidx)},on:{click:function(a){a.preventDefault(),t.$parent.matching.state?t.matchSelect(e.tidx):t.$router.push("/task/view/"+e.tidx)}}},[a("dt",{staticClass:"title"},[a("p",[a("span",{class:"color-label color"+(e.state+1)}),a("span",{staticClass:"task-name",domProps:{innerHTML:t._s(e.title)}})])]),a("dd",[a("p",{staticClass:"list-content"},[t._m(0,!0),a("span",{domProps:{innerHTML:t._s(t.contentPreview(e.description,20))}})]),a("p",{staticClass:"date range"},[t._m(1,!0),a("span",{domProps:{innerHTML:t._s(t.getRange(e.start_date,e.limit_date))}}),a("span",{staticClass:"remaining",class:t.getRemaining(e.limit_date,!1)<0?"before":"after",domProps:{innerHTML:t._s(t.getRemaining(e.limit_date))}})]),a("p",{staticClass:"date register"},[t._m(2,!0),a("span",[t._v(t._s(t.moment(e.register_date).format("M. D HH:mm")))])])])])]):t._e()}))]):a("p",{staticClass:"none"},[t._v("task가 존재하지 않습니다.")])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-align-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"far fa-clock"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"far fa-calendar-alt"})])}],v=(a("6b54"),a("0a69")),d={created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:v["a"].init(this),v["a"].getList();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{tasks:function(){return this.$store.state.taskList}},data:function(){return{matchList:[],colorState:null}},methods:{matchSelect:function(t){var e=this.matchList,a=e.indexOf(t);-1===a?e.push(t):e.splice(a,1),this.$forceUpdate()},matchingComplete:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$parent.matching.commit,e.register_date=this.moment(new Date(e.register_date)).format("YYYY-MM-DD HH:mm:00"),e.tidx=this.matchList.toString(),t.next=5,this.getApiData(i["a"].postTaskCommit(e));case 5:if(a=t.sent,!a.msg){t.next=9;break}return alert(a.msg),t.abrupt("return");case 9:alert("task와 commit을 매칭하였습니다."),this.matchList=[],this.matchingOff();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),matchingOff:function(){this.matchList=[],this.$parent.matchingOff()},workflowSelect:function(t){this.colorState=t===this.colorState?null:t}}},k=d,_=(a("392c"),Object(p["a"])(k,h,g,!1,null,"169fc2a1",null));_.options.__file="list.vue";var b=_.exports,y={components:{projectGithubRepos:f,taskList:b},computed:{projectData:function(){return this.$store.state.projectData}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.pidx,t.next=3,this.getApiData(i["a"].getProject(e));case 3:a=t.sent,this.$store.commit("setState",["projectData",a.project]),this.$store.commit("setState",["pidx",a.project.idx]);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),data:function(){return{matching:{state:!1,commit:null}}},methods:{copyToken:function(){var t=document.createElement("input");t.type="text",t.value=this.projectData.access_token,t.id="copy",document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove(),alert("토큰이 복사되었습니다.")},matchingOn:function(t,e){this.matching={state:t,commit:e}},matchingOff:function(){this.matching={state:!1,commit:null}}}},w=y,C=(a("06ac"),Object(p["a"])(w,n,r,!1,null,null,null));C.options.__file="view.vue";e["default"]=C.exports},"86f9":function(t,e,a){},aa9a:function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}a.d(e,"a",function(){return r})},ac6a:function(t,e,a){for(var n=a("cadf"),r=a("0d58"),s=a("2aba"),i=a("7726"),c=a("32e9"),o=a("84f2"),u=a("2b4c"),l=u("iterator"),p=u("toStringTag"),m=o.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(f),g=0;g<h.length;g++){var v,d=h[g],k=f[d],_=i[d],b=_&&_.prototype;if(b&&(b[l]||c(b,l,m),b[p]||c(b,p,d),o[d]=m,k))for(v in n)b[v]||s(b,v,n[v],!0)}},c665:function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",function(){return n})}}]);
//# sourceMappingURL=chunk-a6a5e44e.27e7517d.js.map