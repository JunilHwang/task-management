(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f522f9c"],{"06ac":function(t,e,n){"use strict";var a=n("1645"),r=n.n(a);r.a},"0a69":function(t,e,n){"use strict";n("96cf");var a=n("1da1"),r=n("d4ec"),c=n("bee2"),s=n("5a8b"),i=function(){function t(){Object(r["a"])(this,t)}return Object(c["a"])(t,null,[{key:"init",value:function(e){t.instance=e}},{key:"getList",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,e.next=3,a.getApiData(s["a"].getTaskList(n||a.$route.params.pidx));case 3:r=e.sent,a.$store.commit("setState",["taskList",r.list]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r,c,i,o,u,l,m,p,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,r=n.target,c=r.title.value,i=r.parent.value,o="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),u="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),l=r.description.value,m=a.$route.params.pidx,p={pidx:m,parent:i,title:c,start_date:o,limit_date:u,description:l},e.next=6,a.getApiData(s["a"].postTask(p));case 6:return e.next=8,a.getApiData(s["a"].getTaskList(a.$route.params.pidx));case 8:f=e.sent,a.$store.commit("setState",["taskList",f.list]),a.$store.commit("closeLayer"),alert("완료되었습니다.");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setState",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,r=a.$route.params.tidx,e.next=4,a.getApiData(s["a"].putTaskState({state:n,tidx:r}));case 4:t.getOne();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var n,a,r,c,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:null,a=t.instance,r=n||a.$route.params.tidx,e.next=5,a.getApiData(s["a"].getTask(r));case 5:return c=e.sent,null==n&&a.$store.commit("setState",["nowTask",c.task]),e.abrupt("return",c.task);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("정말로 삭제하시겠습니까?")){e.next=2;break}return e.abrupt("return");case 2:return n=t.instance,e.next=5,n.getApiData(s["a"].deleteTask(n.task.tidx));case 5:n.$router.push("/project/view/"+n.task.pidx);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r,c,i,o,u,l,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,r=n.target,c=r.title.value,i="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),o="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),u=r.description.value,l=a.tidx,m={tidx:l,title:c,start_date:i,limit_date:o,description:u},e.next=6,a.getApiData(s["a"].putTask(m));case 6:alert("완료되었습니다."),a.$store.commit("closeLayer"),t.getOne();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}();e["a"]=i},"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},1645:function(t,e,n){},"364c":function(t,e,n){},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"5a8b":function(t,e,n){"use strict";var a=n("d4ec"),r=n("bee2"),c=(n("cadf"),n("551c"),n("097d"),n("bc3a")),s=n.n(c),i="/api",o=function(){function t(){Object(a["a"])(this,t)}return Object(r["a"])(t,[{key:"postMember",value:function(t){return s.a.post("".concat(i,"/member"),t)}},{key:"getMemberOnProject",value:function(t){return s.a.get("".concat(i,"/memberOnProject/").concat(t))}},{key:"getProjectList",value:function(t){return s.a.get("".concat(i,"/projects/").concat(t))}},{key:"getProject",value:function(t){return s.a.get("".concat(i,"/project/").concat(t))}},{key:"postProject",value:function(t){return s.a.post("".concat(i,"/project"),t)}},{key:"postProjectAccess",value:function(t){return s.a.post("".concat(i,"/project/access"),t)}},{key:"putProject",value:function(t){return s.a.put("".concat(i,"/project"),t)}},{key:"putProjectStar",value:function(t){return s.a.put("".concat(i,"/project/star"),t)}},{key:"deleteProject",value:function(t){return s.a.delete("".concat(i,"/project/").concat(t))}},{key:"postTask",value:function(t){return s.a.post("".concat(i,"/task"),t)}},{key:"getTaskList",value:function(t){return s.a.get("".concat(i,"/tasks/").concat(t))}},{key:"getTaskListRecently",value:function(t){return s.a.get("".concat(i,"/task/recently/").concat(t))}},{key:"getTask",value:function(t){return s.a.get("".concat(i,"/task/").concat(t))}},{key:"putTask",value:function(t){return s.a.put("".concat(i,"/task"),t)}},{key:"putTaskState",value:function(t){var e=["process","complete","error"],n="".concat(i,"/task/").concat(e[t.state]);return s.a.put("".concat(n,"/").concat(t.tidx))}},{key:"deleteTask",value:function(t){return s.a.delete("".concat(i,"/task/").concat(t))}},{key:"putViewDate",value:function(){throw"don't putViewDate impolemented"}},{key:"getCommentList",value:function(t){return s.a.get("".concat(i,"/comments/").concat(t))}},{key:"getCommentRecentlyList",value:function(t){return s.a.get("".concat(i,"/comment/recently/").concat(t))}},{key:"getComment",value:function(t){return s.a.get("".concat(i,"/comment/").concat(t))}},{key:"postComment",value:function(t){return s.a.post("".concat(i,"/comment/").concat(t.tidx),t)}},{key:"postCommentReply",value:function(t){return s.a.post("".concat(i,"/comment/reply"),t)}},{key:"putComment",value:function(t){return s.a.put("".concat(i,"/comment"),t)}},{key:"deleteComment",value:function(t){return s.a.delete("".concat(i,"/comment/").concat(t))}},{key:"getRepos",value:function(t){return s.a.get("".concat(i,"/github/repos/").concat(t))}},{key:"getCommits",value:function(t){return s.a.get("".concat(i,"/github/commit/").concat(t))}},{key:"postRepo",value:function(t){return s.a.post("".concat(i,"/github/repo"),t)}},{key:"postTaskCommit",value:function(t){return s.a.post("".concat(i,"/github/match"),t)}},{key:"deleteRepo",value:function(t){return s.a.delete("".concat(i,"/github/repo/").concat(t))}},{key:"deleteCommitOnTask",value:function(t,e){return s.a.delete("".concat(i,"/github/match/").concat(t,"/").concat(e))}}]),t}();e["a"]=new o},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),r=n("0bfb"),c=n("9e1e"),s="toString",i=/./[s],o=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?o(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!c&&t instanceof RegExp?r.call(t):void 0)}):i.name!=s&&o(function(){return i.call(this)})},7199:function(t,e,n){"use strict";var a=n("e695"),r=n.n(a);r.a},"7f7f":function(t,e,n){var a=n("86cc").f,r=Function.prototype,c=/^\s*function ([^ (]*)/,s="name";s in r||n("9e1e")&&a(r,s,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(t){return""}}})},8388:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("header",{staticClass:"project-header"},[n("h4",{staticClass:"content-title",domProps:{innerHTML:t._s(t.projectData.title)}}),n("p",{domProps:{innerHTML:t._s(t.projectData.description)}})]),"undefined"!==typeof t.projectData.pidx?n("section",{staticClass:"project-view"},[n("section",{staticClass:"tasks"},[n("taskList",{attrs:{matching:t.matching}})],1),n("projectGithubRepos"),n("div",{staticClass:"btn-group"},[n("router-link",{staticClass:"btn point",attrs:{to:"/"}},[t._v("프로젝트 목록")]),n("router-link",{staticClass:"btn point",attrs:{to:"/project/setting/"+t.projectData.pidx}},[t._v("프로젝트 설정")]),n("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$store.commit("openLayer","taskCreate")}}},[t._v("테스크 추가")]),n("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.copyToken(e)}}},[t._v("토큰 복사")])],1)],1):t._e()])},r=[],c=(n("96cf"),n("1da1")),s=(n("cadf"),n("551c"),n("097d"),n("5a8b")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.repos.length?n("section",{staticClass:"project-github-repos"},t._l(t.repos,function(e,a){return n("article",{key:a},[n("header",[n("div",{staticClass:"title"},[t._m(0,!0),n("strong",{staticClass:"repo-name",domProps:{innerHTML:t._s(e.full_name)}}),n("span",{staticClass:"repo-desc",domProps:{innerHTML:t._s(e.description)}})]),n("div",{staticClass:"sel"},[n("a",{class:{active:t.shows[a]},attrs:{href:"#"},domProps:{innerHTML:t._s(t.shows[a]?"접기":"열기")},on:{click:function(e){e.preventDefault(),t.showSet(a)}}}),t._l(t.limits,function(e,r){return n("a",{key:r,class:{active:t.nowLimit[a]===e},attrs:{href:"#"},domProps:{innerHTML:t._s(e+"개")},on:{click:function(n){n.preventDefault(),t.limitSet(a,e)}}})})],2)]),t.shows[a]?n("ul",[t._l(e.commits,function(e,r){return r<t.nowLimit[a]?n("li",{key:r,class:{active:t.$parent.matching.state&&t.$parent.matching.commit==e}},[n("span",{staticClass:"image",style:{backgroundImage:"url("+e.image+")"}}),n("span",{staticClass:"author",domProps:{innerHTML:t._s(e.name)}}),n("span",{staticClass:"message"},[n("a",{attrs:{href:e.html_url,target:"_blank"},domProps:{innerHTML:t._s(e.message)}})]),n("span",{staticClass:"register_date",domProps:{innerHTML:t._s(t.getFlowDate(e.register_date))}}),n("a",{staticClass:"plug",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.matchCommit(e)}}},[n("i",{staticClass:"fas fa-plug"})])]):t._e()}),e.commits?t._e():n("li",[t._v("\n        등록된 commit이 없습니다.\n      ")])],2):t._e()])})):t._e()},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"git-icon"},[n("i",{staticClass:"fab fa-github"})])}],u=(n("7f7f"),n("ac6a"),{created:function(){this.getRepos()},data:function(){return{repos:[],nowLimit:[],shows:[],limits:[10,30,50,100]}},methods:{getRepos:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getApiData(s["a"].getRepos(this.$route.params.pidx));case 2:e=t.sent,n=e.repos,this.repos=n,n.forEach(function(t){a.nowLimit.push(10),a.shows.push(!1);var e="".concat(t.access_url,"?per_page=100&access_token=").concat(t.access_token);a.$http.get(e).then(function(e){t.commits=e.data,t.commits.forEach(function(e,n){return a.getFilter(e,n,t)}),a.$forceUpdate()})});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getFilter:function(t,e,n){var a=t.sha,r=t.commit.author.name,c=t.commit.author.date,s=t.author?t.author.avatar_url:"",i=t.commit.message,o=t.html_url;n.commits[e]={sha:a,name:r,image:s,message:i,register_date:c,html_url:o}},matchCommit:function(t){this.$parent.matchingOn(!0,t)},limitSet:function(t,e){this.$set(this.nowLimit,t,e)},showSet:function(t){this.$set(this.shows,t,!this.shows[t])}}}),l=u,m=(n("7199"),n("2877")),p=Object(m["a"])(l,i,o,!1,null,"2fad4734",null);p.options.__file="github-repos.vue";var f=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"task-list"},[n("div",{staticClass:"list-header float-wrap"},[n("p",{staticClass:"cnt"},[t._v(t._s(t.tasks.length)+"개의 task가 존재합니다.")]),n("div",{staticClass:"color-description"},t._l(["진행","완료","에러"],function(e,a){return n("span",{key:a,staticClass:"color-label workflow",class:"color"+(a+1)+" "+(t.colorState===a?"active":"")},[n("span",{domProps:{innerHTML:t._s(e)},on:{click:function(e){t.workflowSelect(a)}}})])}))]),t.tasks.length?n("div",[t.$parent.matching.state?n("div",{staticClass:"matching"},[n("div",[t._v("["+t._s(t.$parent.matching.commit.message)+"] 과 매칭할 Task를 선택해주세요")]),n("div",{staticClass:"btns"},[t.matchList.length?n("a",{staticClass:"btn white mini",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.matchingComplete(e)}}},[t._v("완료")]):t._e(),n("a",{staticClass:"btn white mini",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.matchingOff(e)}}},[t._v("취소")])])]):t._e(),n("ul",{staticClass:"float-wrap"},t._l(t.tasks,function(e,a){return null===t.colorState||null!==t.colorState&&e.state===t.colorState?n("li",{key:a},[n("dl",{class:{active:-1!==t.matchList.indexOf(e.tidx)},on:{click:function(n){n.preventDefault(),t.$parent.matching.state?t.matchSelect(e.tidx):t.$router.push("/task/view/"+e.tidx)}}},[n("dt",{staticClass:"title"},[n("span",{class:"color-label color"+(e.state+1)}),n("span",{staticClass:"task-name",domProps:{innerHTML:t._s(e.title)}}),n("span",{staticClass:"comment_cnt",domProps:{innerHTML:t._s(e.comment_cnt)}})]),n("dd",[n("p",{staticClass:"list-content"},[t._m(0,!0),n("span",{domProps:{innerHTML:t._s(t.contentPreview(e.description,20))}})]),n("p",{staticClass:"date range"},[t._m(1,!0),n("span",{domProps:{innerHTML:t._s(t.getRange(e.start_date,e.limit_date))}}),n("span",{staticClass:"remaining",class:t.getRemaining(e.limit_date,!1)<0?"before":"after",domProps:{innerHTML:t._s(t.getRemaining(e.limit_date))}})]),n("p",{staticClass:"date register"},[t._m(2,!0),n("span",[t._v(t._s(t.moment(e.register_date).format("M. D HH:mm")))])])])])]):t._e()}))]):n("p",{staticClass:"none"},[t._v("task가 존재하지 않습니다.")])])},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-align-left"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("i",{staticClass:"far fa-clock"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("i",{staticClass:"far fa-calendar-alt"})])}],d=(n("6b54"),n("0a69")),v={created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:d["a"].init(this),d["a"].getList();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{tasks:function(){return this.$store.state.taskList}},data:function(){return{matchList:[],colorState:null}},methods:{matchSelect:function(t){var e=this.matchList,n=e.indexOf(t);-1===n?e.push(t):e.splice(n,1),this.$forceUpdate()},matchingComplete:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$parent.matching.commit,e.register_date=this.moment(new Date(e.register_date)).format("YYYY-MM-DD HH:mm:00"),e.tidx=this.matchList.toString(),t.next=5,this.getApiData(s["a"].postTaskCommit(e));case 5:if(n=t.sent,!n.msg){t.next=9;break}return alert(n.msg),t.abrupt("return");case 9:alert("task와 commit을 매칭하였습니다."),this.matchList=[],this.matchingOff();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),matchingOff:function(){this.matchList=[],this.$parent.matchingOff()},workflowSelect:function(t){this.colorState=t===this.colorState?null:t}}},k=v,_=(n("ab79"),Object(m["a"])(k,h,g,!1,null,"4971cb54",null));_.options.__file="list.vue";var b=_.exports,y={components:{projectGithubRepos:f,taskList:b},computed:{projectData:function(){return this.$store.state.projectData}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.pidx,t.next=3,this.getApiData(s["a"].getProject(e));case 3:n=t.sent,this.$store.commit("setState",["projectData",n.project]),this.$store.commit("setState",["pidx",n.project.idx]);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),data:function(){return{matching:{state:!1,commit:null}}},methods:{copyToken:function(){var t=document.createElement("input");t.type="text",t.value=this.projectData.access_token,t.id="copy",document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove(),alert("토큰이 복사되었습니다.")},matchingOn:function(t,e){this.matching={state:t,commit:e}},matchingOff:function(){this.matching={state:!1,commit:null}}}},w=y,C=(n("06ac"),Object(m["a"])(w,a,r,!1,null,null,null));C.options.__file="view.vue";e["default"]=C.exports},ab79:function(t,e,n){"use strict";var a=n("364c"),r=n.n(a);r.a},ac6a:function(t,e,n){for(var a=n("cadf"),r=n("0d58"),c=n("2aba"),s=n("7726"),i=n("32e9"),o=n("84f2"),u=n("2b4c"),l=u("iterator"),m=u("toStringTag"),p=o.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(f),g=0;g<h.length;g++){var d,v=h[g],k=f[v],_=s[v],b=_&&_.prototype;if(b&&(b[l]||i(b,l,p),b[m]||i(b,m,v),o[v]=p,k))for(d in a)b[d]||c(b,d,a[d],!0)}},bee2:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",function(){return r})},d4ec:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a})},e695:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3f522f9c.96621824.js.map