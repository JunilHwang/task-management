(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7277aa85"],{"0185":function(t,e,n){},"0a69":function(t,e,n){"use strict";n("96cf");var a=n("1da1"),r=n("d4ec"),c=n("bee2"),s=n("5a8b"),o=function(){function t(){Object(r["a"])(this,t)}return Object(c["a"])(t,null,[{key:"init",value:function(e){t.instance=e}},{key:"getList",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,e.next=3,a.getApiData(s["a"].getTaskList(n||a.$route.params.pidx));case 3:r=e.sent,a.$store.commit("setState",["taskList",r.list]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r,c,o,i,u,l,p,m,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,r=n.target,c=r.title.value,o=r.parent.value,i="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),u="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),l=r.description.value,p=a.$route.params.pidx,m={pidx:p,parent:o,title:c,start_date:i,limit_date:u,description:l},e.next=6,a.getApiData(s["a"].postTask(m));case 6:return e.next=8,a.getApiData(s["a"].getTaskList(a.$route.params.pidx));case 8:f=e.sent,a.$store.commit("setState",["taskList",f.list]),a.$store.commit("closeLayer"),alert("완료되었습니다.");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setState",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,r=a.$route.params.tidx,e.next=4,a.getApiData(s["a"].putTaskState({state:n,tidx:r}));case 4:t.getOne();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var n,a,r,c,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:null,a=t.instance,r=n||a.$route.params.tidx,e.next=5,a.getApiData(s["a"].getTask(r));case 5:return c=e.sent,null==n&&a.$store.commit("setState",["nowTask",c.task]),e.abrupt("return",c.task);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("정말로 삭제하시겠습니까?")){e.next=2;break}return e.abrupt("return");case 2:return n=t.instance,e.next=5,n.getApiData(s["a"].deleteTask(n.task.tidx));case 5:n.$router.push("/project/view/"+n.task.pidx);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var a,r,c,o,i,u,l,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.instance,r=n.target,c=r.title.value,o="".concat(r.start.value," ").concat(r.start_h.value,":").concat(r.start_m.value,":00"),i="".concat(r.limit.value," ").concat(r.limit_h.value,":").concat(r.limit_m.value,":00"),u=r.description.value,l=a.tidx,p={tidx:l,title:c,start_date:o,limit_date:i,description:u},e.next=6,a.getApiData(s["a"].putTask(p));case 6:alert("완료되었습니다."),a.$store.commit("closeLayer"),t.getOne();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}();e["a"]=o},"21d9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"task-view"},[null!==t.task?[n("div",{staticClass:"task-wrap"},[n("header",{staticClass:"task-title"},[n("span",{class:"color-label color"+(t.task.state+1)}),n("span",{staticClass:"task-name",domProps:{innerHTML:t._s(t.task.title)}}),n("span",{staticClass:"reg-date"},[n("i",{staticClass:"far fa-calendar-alt"}),t._v("\n          "+t._s(t.getDateFormat(t.task.register_date))+"\n        ")])]),n("div",{staticClass:"task-info"},[n("p",[n("strong",{staticClass:"lbl"},[t._v("기간")]),n("span",{domProps:{innerHTML:t._s(t.getRange(t.task.start_date,t.task.limit_date))}})]),n("p",[n("strong",{staticClass:"lbl"},[t._v("종료")]),n("span",{domProps:{innerHTML:t._s(t.getRemaining(t.task.limit_date))}})]),n("p",[n("strong",{staticClass:"lbl"},[t._v("선행")]),null===t.parent?n("span",[t._v("없습니다.")]):n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.change("/task/view/"+t.parent.tidx)}}},[n("span",{class:"color-label color"+(t.parent.state+1)}),t._v("\n            "+t._s(t.parent.title)+" / \n            "+t._s(t.contentPreview(t.parent.description,40))+"\n          ")])])]),n("div",{staticClass:"task-content",domProps:{innerHTML:t._s((t.task.description+"").replace(/\n/gi,"<br />"))}}),n("commitList",{attrs:{commits:t.commits}}),n("commentList")],1),n("div",{staticClass:"btn-group"},[n("router-link",{staticClass:"btn default",attrs:{to:"/project/view/"+t.task.pidx}},[t._v("목록으로")]),n("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$store.commit("openLayer","taskUpdate")}}},[t._v("수정하기")]),n("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.TaskCore.delete(e)}}},[t._v("삭제하기")]),1!=t.task.state?n("a",{staticClass:"btn complete",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.TaskCore.setState(1)}}},[t._v("완료")]):t._e(),2!=t.task.state?n("a",{staticClass:"btn error",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.TaskCore.setState(2)}}},[t._v("에러")]):t._e(),0!=t.task.state?n("a",{staticClass:"btn process",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.TaskCore.setState(0)}}},[t._v("진행")]):t._e()],1)]:t._e()],2)},r=[],c=(n("96cf"),n("1da1")),s=(n("cadf"),n("551c"),n("097d"),n("0a69")),o=n("5a8b"),i={components:{commitList:function(){return n.e("chunk-32da7090").then(n.bind(null,"2f79"))},commentList:function(){return n.e("chunk-2d0e64c6").then(n.bind(null,"97c5"))}},created:function(){s["a"].init(this),this.load()},computed:{task:function(){return this.$store.state.nowTask}},data:function(){return{TaskCore:s["a"],parent:null,commits:[]}},methods:{load:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].getOne();case 2:if(e=t.sent,!e.parent){t.next=9;break}return t.next=6,s["a"].getOne(e.parent);case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=null;case 10:return this.parent=t.t0,t.next=13,this.getApiData(o["a"].getCommits(e.tidx));case 13:n=t.sent,this.commits=n.commits;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),change:function(t){this.$router.push(t),this.load()}}},u=i,l=(n("edd7"),n("2877")),p=Object(l["a"])(u,a,r,!1,null,"08cd0b1c",null);p.options.__file="view.vue";e["default"]=p.exports},"5a8b":function(t,e,n){"use strict";var a=n("d4ec"),r=n("bee2"),c=(n("cadf"),n("551c"),n("097d"),n("bc3a")),s=n.n(c),o="/api",i=function(){function t(){Object(a["a"])(this,t)}return Object(r["a"])(t,[{key:"postMember",value:function(t){return s.a.post("".concat(o,"/member"),t)}},{key:"getMemberOnProject",value:function(t){return s.a.get("".concat(o,"/memberOnProject/").concat(t))}},{key:"getProjectList",value:function(t){return s.a.get("".concat(o,"/projects/").concat(t))}},{key:"getProject",value:function(t){return s.a.get("".concat(o,"/project/").concat(t))}},{key:"postProject",value:function(t){return s.a.post("".concat(o,"/project"),t)}},{key:"postProjectAccess",value:function(t){return s.a.post("".concat(o,"/project/access"),t)}},{key:"putProject",value:function(t){return s.a.put("".concat(o,"/project"),t)}},{key:"putProjectStar",value:function(t){return s.a.put("".concat(o,"/project/star"),t)}},{key:"deleteProject",value:function(t){return s.a.delete("".concat(o,"/project/").concat(t))}},{key:"postTask",value:function(t){return s.a.post("".concat(o,"/task"),t)}},{key:"getTaskList",value:function(t){return s.a.get("".concat(o,"/tasks/").concat(t))}},{key:"getTaskListRecently",value:function(t){return s.a.get("".concat(o,"/task/recently/").concat(t))}},{key:"getTask",value:function(t){return s.a.get("".concat(o,"/task/").concat(t))}},{key:"putTask",value:function(t){return s.a.put("".concat(o,"/task"),t)}},{key:"putTaskState",value:function(t){var e=["process","complete","error"],n="".concat(o,"/task/").concat(e[t.state]);return s.a.put("".concat(n,"/").concat(t.tidx))}},{key:"deleteTask",value:function(t){return s.a.delete("".concat(o,"/task/").concat(t))}},{key:"putViewDate",value:function(){throw"don't putViewDate impolemented"}},{key:"getCommentList",value:function(t){return s.a.get("".concat(o,"/comments/").concat(t))}},{key:"getCommentRecentlyList",value:function(t){return s.a.get("".concat(o,"/comment/recently/").concat(t))}},{key:"getComment",value:function(t){return s.a.get("".concat(o,"/comment/").concat(t))}},{key:"postComment",value:function(t){return s.a.post("".concat(o,"/comment/").concat(t.tidx),t)}},{key:"postCommentReply",value:function(t){return s.a.post("".concat(o,"/comment/reply"),t)}},{key:"putComment",value:function(t){return s.a.put("".concat(o,"/comment"),t)}},{key:"deleteComment",value:function(t){return s.a.delete("".concat(o,"/comment/").concat(t))}},{key:"getRepos",value:function(t){return s.a.get("".concat(o,"/github/repos/").concat(t))}},{key:"getCommits",value:function(t){return s.a.get("".concat(o,"/github/commit/").concat(t))}},{key:"postRepo",value:function(t){return s.a.post("".concat(o,"/github/repo"),t)}},{key:"postTaskCommit",value:function(t){return s.a.post("".concat(o,"/github/match"),t)}},{key:"deleteRepo",value:function(t){return s.a.delete("".concat(o,"/github/repo/").concat(t))}},{key:"deleteCommitOnTask",value:function(t,e){return s.a.delete("".concat(o,"/github/match/").concat(t,"/").concat(e))}}]),t}();e["a"]=new i},bee2:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",function(){return r})},d4ec:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a})},edd7:function(t,e,n){"use strict";var a=n("0185"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-7277aa85.b353ddeb.js.map